<p-dialog
  [(visible)]="display"
  [modal]="true"
  [style]="{ width: '90vw', }"
  position="center"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  (onHide)="closeDialog()"
>
  <div class="prices-panel_container">
    <div class="container-fluid">
      <div class="row text-center mb-3">
        <div class="col-sm-12">
          <div class="prices-panel_title">
            <span class="prices-panel_title-bold">Precios</span>
            <button
              type="button"
              class="btn-close float-end"
              aria-label="Close"
              (click)="closeDialog()"
            ></button>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="container">
          <div class="row">
            <div class="col-sm-6 text-center">
              <div class="container">
                <div class="row mb-3">
                  <div class="col-sm-12">
                    <h4>Precio fijo</h4>
                  </div>
                </div>
                <div class="row">
                  <div
                    class="list-group text-start"
                    *ngFor="let price of prices?.fixedPrices; let i = index"
                  >
                    <div class="list-group-item list-group-item-action">
                      <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1">
                          Precio {{ i + 1 }}:
                          <strong class="float-end ms-3">{{
                            price.price | currency
                          }}</strong>
                        </h5>
                      </div>
                      <p class="mb-1">
                        {{ fomatTime(price.platforms_fields_price_start_time) }}
                        -
                        {{ fomatTime(price.platforms_fields_price_end_time) }}
                      </p>
                    </div>
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-sm-12">
                    <button class="btn btn-dark">
                      <fa-icon [icon]="faPencil"></fa-icon> Modificar precio
                      fijo
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-6 text-center">
              <div class="container">
                <div class="row mb-3">
                  <div class="col-sm-12">
                    <h4>Precio especial</h4>
                  </div>
                </div>
                <div class="row">
                  <div class="table-responsive">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>Precio</th>
                          <th>Fecha</th>
                          <th>Hora de inicio</th>
                          <th>Hora de fin</th>
                          <th>Acciones</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let price of prices?.specialPrices;
                            let i = index
                          "
                        >
                          <td>{{ i + 1 }}</td>
                          <td>{{ price.price | currency }}</td>
                          <td>
                            {{
                              formatDateString(
                                price.platforms_fields_price_start_time
                              )
                            }}
                          </td>
                          <td>
                            {{
                              fomatTime(price.platforms_fields_price_start_time)
                            }}
                          </td>
                          <td>
                            {{
                              fomatTime(price.platforms_fields_price_end_time)
                            }}
                          </td>
                          <td>
                            <button
                              class="btn btn-outline-danger btn-sm"
                              (click)="confirmDeleteSpecialPrice(price)"
                            >
                              <fa-icon [icon]="faTrashAlt"></fa-icon>
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <button class="btn btn-dark">
                      <fa-icon [icon]="faPlus"></fa-icon> Agregar precio
                      especial
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</p-dialog>

<p-dialog
  header="Confirmar Eliminación"
  [(visible)]="confirmDeleteDialog"
  [modal]="true"
  [style]="{ width: '30vw' }"
  (onHide)="closeConfirmDeleteDialog()"
>
  <div class="text-center">
    <div class="container">
      <div class="row mt-3">
        <div class="col-sm-12">
          <h5 class="mb-3">
            ¿Está seguro de que desea eliminar este precio especial?
          </h5>
          <button
            class="btn btn-outline-secondary me-2"
            (click)="closeConfirmDeleteDialog()"
          >
            No
          </button>
          <button class="btn btn-danger" (click)="deleteSpecialPrice()">
            Sí
          </button>
        </div>
      </div>
    </div>
  </div>
</p-dialog>
